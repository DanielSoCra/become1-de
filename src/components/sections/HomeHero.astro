---
import DashboardMockup from '../ui/DashboardMockup.astro';
import MobileAppMockup from '../ui/MobileAppMockup.astro';

const base = import.meta.env.BASE_URL;
---

<section class="hero-section">
  <div class="hero-dots" aria-hidden="true"></div>
  <div class="hero-glow" aria-hidden="true"></div>

  <div class="container mx-auto px-6 max-w-7xl relative z-10">
    <div class="hero-grid">

      <!-- ── Left: Copy ── -->
      <div class="hero-copy">
        <div class="hero-badge">
          <span class="hero-badge-dot"></span>
          OMR Top 100 Tool 2024
        </div>

        <h1 class="hero-h1">
          Mehr Netto für dein Team.<br />
          <span class="hero-h1-accent">Weniger Aufwand</span> für HR.
        </h1>

        <p class="hero-sub">
          become.1 ist die All-in-One Plattform für steuerfreie Mitarbeiter-Benefits. Vollautomatisch, rechtssicher und in 20 Minuten einsatzbereit.
        </p>

        <div class="hero-trust">
          <span class="hero-trust-item">
            <svg class="hero-check" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
            DSGVO-konform
          </span>
          <span class="hero-trust-item">
            <svg class="hero-check" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
            ISO 27001
          </span>
          <span class="hero-trust-item">
            <svg class="hero-check" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
            1.000+ Unternehmen
          </span>
        </div>

        <div class="hero-ctas">
          <a href={`${base}demo/`} class="btn-primary">Kostenlose Demo vereinbaren</a>
          <a href={`${base}preise/`} class="btn-ghost">
            Preise ansehen
            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
          </a>
        </div>

        <div class="hero-stats">
          <div class="hero-stat">
            <p class="hero-stat-val">Ø 1.200 €</p>
            <p class="hero-stat-label">Netto-Vorteil / MA / Jahr</p>
          </div>
          <div class="hero-stat-divider"></div>
          <div class="hero-stat">
            <p class="hero-stat-val">20 Min.</p>
            <p class="hero-stat-label">Setup-Zeit</p>
          </div>
          <div class="hero-stat-divider"></div>
          <div class="hero-stat">
            <p class="hero-stat-val">40+</p>
            <p class="hero-stat-label">Integrationen</p>
          </div>
        </div>
      </div>

      <!-- ── Right: Mockup stage ── -->
      <div class="mockup-stage">

        <!-- Ambient glow -->
        <div class="stage-glow" aria-hidden="true"></div>

        <!-- Rating badge — top right -->
        <div class="badge-rating" aria-hidden="true">
          <p class="badge-rating-val">4,9 ★</p>
          <p class="badge-rating-label">Kundenbewertung</p>
        </div>

        <!-- Live indicator — below rating -->
        <div class="badge-live" aria-hidden="true">
          <span class="badge-live-dot"></span>
          <span>91% Aktivierungsrate</span>
        </div>

        <!-- Dashboard — PRIMARY: fills the stage, slight tilt -->
        <div class="dashboard-wrap">
          <DashboardMockup />
        </div>

        <!-- Mobile phone — SECONDARY: small, floating bottom-left corner -->
        <div class="mobile-wrap">
          <MobileAppMockup />
        </div>

      </div>
    </div>
  </div>
</section>

<style>
  /* ─── Section ─── */
  .hero-section {
    background: #FAF9F7;
    padding: 72px 0 48px;
    overflow: hidden;
    position: relative;
  }
  @media (min-width: 1024px) {
    .hero-section { padding: 96px 0 64px; }
  }

  .hero-dots {
    position: absolute; inset: 0; pointer-events: none;
    background-image: radial-gradient(circle, rgba(26,107,74,0.10) 1px, transparent 1px);
    background-size: 32px 32px;
    opacity: 0.5;
  }
  .hero-glow {
    position: absolute; top: 0; right: 0;
    width: 600px; height: 600px;
    border-radius: 50%; pointer-events: none;
    background: radial-gradient(circle, rgba(26,107,74,0.07) 0%, transparent 65%);
    transform: translate(25%, -25%);
  }

  /* ─── Grid ─── */
  .hero-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 48px;
    align-items: center;
  }
  @media (min-width: 1024px) {
    .hero-grid {
      grid-template-columns: 480px 1fr;
      gap: 48px;
    }
  }

  /* ─── Copy ─── */
  .hero-copy {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(26,107,74,0.08);
    color: #1A6B4A;
    font-size: 12px;
    font-weight: 700;
    padding: 6px 14px;
    border-radius: 999px;
    border: 1px solid rgba(26,107,74,0.15);
    width: fit-content;
  }
  .hero-badge-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    background: #1A6B4A;
    animation: pulse 2s infinite;
    flex-shrink: 0;
  }

  .hero-h1 {
    font-size: clamp(36px, 4.5vw, 52px);
    font-weight: 800;
    line-height: 1.08;
    letter-spacing: -0.02em;
    color: #1B1D1E;
    margin: 0;
  }
  .hero-h1-accent { color: #1A6B4A; }

  .hero-sub {
    font-size: 17px;
    color: rgba(27,29,30,0.65);
    line-height: 1.65;
    margin: 0;
  }

  .hero-trust {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
  }
  .hero-trust-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: rgba(27,29,30,0.5);
    font-weight: 500;
  }
  .hero-check {
    width: 16px; height: 16px;
    color: #1A6B4A;
    flex-shrink: 0;
  }

  .hero-ctas {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 12px;
  }

  .hero-stats {
    display: flex;
    align-items: center;
    gap: 20px;
    padding-top: 16px;
    border-top: 1px solid #F0EDE8;
  }
  .hero-stat-val {
    font-size: 22px;
    font-weight: 800;
    color: #1B1D1E;
    margin: 0;
  }
  .hero-stat-label {
    font-size: 11px;
    color: rgba(27,29,30,0.45);
    margin: 2px 0 0;
  }
  .hero-stat-divider {
    width: 1px; height: 36px;
    background: #F0EDE8;
    flex-shrink: 0;
  }

  /* ─── Mockup stage ─── */
  .mockup-stage {
    display: none;
    position: relative;
    /* Height = dashboard height (300px body + ~36px chrome) + some breathing room */
    height: 420px;
  }
  @media (min-width: 1024px) {
    .mockup-stage { display: block; }
  }

  .stage-glow {
    position: absolute;
    inset: 0; pointer-events: none;
    background: radial-gradient(ellipse 90% 80% at 55% 45%, rgba(26,107,74,0.06) 0%, transparent 70%);
  }

  /* ── Dashboard: PRIMARY visual — fills the stage from top ── */
  .dashboard-wrap {
    position: absolute;
    top: 40px;   /* leave room for badges */
    left: 60px;  /* push right so phone doesn't cover key content */
    right: 0;
    /* Gentle tilt for depth */
    transform: perspective(2000px) rotateY(-3deg) rotateX(2deg);
    transform-origin: top center;
    filter: drop-shadow(0 24px 48px rgba(0,0,0,0.12));
  }

  /* ── Mobile: SECONDARY — small, floating bottom-left corner ── */
  .mobile-wrap {
    position: absolute;
    bottom: -20px;
    left: -10px;
    z-index: 20;
    /* Scale down the phone to ~42% so it's clearly secondary */
    transform: scale(0.42) perspective(800px) rotateY(5deg);
    transform-origin: bottom left;
    filter: drop-shadow(0 16px 32px rgba(0,0,0,0.20));
  }

  /* ── Badges ── */
  .badge-rating {
    position: absolute;
    top: 0;
    right: -8px;
    z-index: 30;
    background: #F5A623;
    color: #1B1D1E;
    border-radius: 14px;
    padding: 10px 18px;
    box-shadow: 0 8px 24px rgba(245,166,35,0.3);
    transform: rotate(2deg);
    text-align: center;
  }
  .badge-rating-val {
    font-size: 20px;
    font-weight: 800;
    line-height: 1;
    margin: 0;
  }
  .badge-rating-label {
    font-size: 10px;
    font-weight: 600;
    margin: 3px 0 0;
    opacity: 0.75;
  }

  .badge-live {
    position: absolute;
    top: 64px;
    right: -8px;
    z-index: 30;
    display: flex;
    align-items: center;
    gap: 8px;
    background: white;
    border-radius: 10px;
    padding: 8px 14px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    border: 1px solid #F0EDE8;
    font-size: 12px;
    font-weight: 600;
    color: #1B1D1E;
    white-space: nowrap;
  }
  .badge-live-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    background: #1A6B4A;
    animation: pulse 2s infinite;
    flex-shrink: 0;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
  }
</style>
